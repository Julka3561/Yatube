{% extends 'base.html' %}

{% block title %}
  {{ title }}
{% endblock title %}

{% block content %}
  <div class="container py-5">
    <h1>Последние обновления на сайте</h1>
    {% include 'posts/includes/switcher.html' %}
    {% load cache %}
      {% cache 20 index_page page_obj.number %}
    {% for post in posts %}
      <article>
        {% include 'posts/includes/post.html' %}
      </article>
      {% if not forloop.last %}
        <hr>{% endif %}
    {% endfor %}
      {% endcache %}
    {% include 'posts/includes/paginator.html' %}
  </div>
{% endblock content %}

